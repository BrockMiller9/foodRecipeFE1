<!-- <mat-card class="login-card" *ngIf="!showCreateAccount">
    <mat-card-title>USER LOGIN</mat-card-title>
    <mat-card-subtitle>Welcome to the website</mat-card-subtitle>
  
    <mat-card-content>
      <mat-form-field appearance="outline">
        <mat-label>Username</mat-label>
        <input matInput type="text" [(ngModel)]="username">
      </mat-form-field>
  
      <mat-form-field appearance="outline">
        <mat-label>Password</mat-label>
        <input matInput type="password" [(ngModel)]="password">
      </mat-form-field>
  
      <mat-checkbox>Remember</mat-checkbox>
    </mat-card-content>

    <div *ngIf="isLoading" class="loading-overlay">
        <mat-spinner></mat-spinner>
      </div>
      
  
    <mat-card-actions>
      <button mat-raised-button color="primary" (click)="onLogin()" [disabled]="isLoading">LOGIN</button>
      <a href="#" class="create-account-link" (click)="showCreateAccount = true; $event.preventDefault()">Create Account</a>
    </mat-card-actions>
  
    <div class="forgot-password">
      <a href="#">Forgot your password?</a>
    </div>
  </mat-card>
  
  <mat-card class="create-account-card" *ngIf="showCreateAccount">
    <mat-card-title>CREATE ACCOUNT</mat-card-title>
    <mat-card-subtitle>Join us today!</mat-card-subtitle>
  
    <mat-card-content>
      <mat-form-field appearance="outline">
        <mat-label>Username</mat-label>
        <input matInput type="text" [(ngModel)]="newUsername">
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Email</mat-label>
        <input matInput type="email" [(ngModel)]="email">
      </mat-form-field>
  
      <mat-form-field appearance="outline">
        <mat-label>Password</mat-label>
        <input matInput type="password" [(ngModel)]="newPassword">
      </mat-form-field>
    </mat-card-content>
  
    <mat-card-actions>
      <button mat-raised-button color="primary" (click)="onCreateAccount()" [disabled]="isLoading">CREATE</button>
    </mat-card-actions>
  
    <div class="back-to-login">
      <a href="#" (click)="showCreateAccount = false; $event.preventDefault()">Already have an account? Log in</a>
    </div>
</mat-card> -->
<!-- <div class="flex min-h-full flex-1">
  <div class="flex flex-1 flex-col justify-center px-4 py-12 sm:px-6 lg:flex-none lg:px-20 xl:px-24">
    <div class="mx-auto w-full max-w-sm lg:w-96">
      <div>
        <img class="h-10 w-auto" src="assets/logo.svg" alt="Your Company" />
        <h2 class="mt-8 text-2xl font-bold leading-9 tracking-tight text-gray-900">Sign in to your account</h2>
      </div>

      <div class="mt-10">
        <form (ngSubmit)="onLogin()" class="space-y-6">
          <div>
            <label for="email" class="block text-sm font-medium leading-6 text-gray-900">Email address</label>
            <div class="mt-2">
              <input id="email" [(ngModel)]="username" name="email" type="email" autocomplete="email" required
                class="block w-full rounded-md border-0 py-1.5 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6" />
            </div>
          </div>

          <div>
            <label for="password" class="block text-sm font-medium leading-6 text-gray-900">Password</label>
            <div class="mt-2">
              <input id="password" [(ngModel)]="password" name="password" type="password" autocomplete="current-password" required
                class="block w-full rounded-md border-0 py-1.5 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6" />
            </div>
          </div>

          <div class="flex items-center justify-between">
            <div class="flex items-center">
              <input id="remember-me" name="remember-me" type="checkbox" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600" />
              <label for="remember-me" class="ml-3 block text-sm leading-6 text-gray-700">Remember me</label>
            </div>

            
          </div>

          <div>
            <button type="submit" class="flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus:outline-none">
              Sign in
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="relative hidden w-0 flex-1 lg:block">
    <img class="absolute inset-0 h-full w-full object-cover" src="../../assets/foodTable.png" alt="" />
  </div>
</div> -->
<div *ngIf="isLoading" class="loader">Loading...</div>

<div class="flex min-h-full flex-1">
  <!-- Sign In Form -->
  <div *ngIf="!showCreateAccount" class="flex flex-1 flex-col justify-center px-4 py-12 sm:px-6 lg:flex-none lg:px-20 xl:px-24">
    <div class="mx-auto w-full max-w-sm lg:w-96">
      <div>
        <img class="h-16 w-auto" src="../../assets/foodAppLogo.png" alt="Your Company" />
        <h2 class="mt-8 text-2xl font-bold leading-9 tracking-tight text-gray-900">Sign in to your account</h2>
      </div>

      <div class="mt-10">
        <form (ngSubmit)="onLogin()" class="space-y-6">
          <div>
            <label for="email" class="block text-sm font-medium leading-6 text-gray-900">Username</label>
            <div class="mt-2">
              <input id="email" [(ngModel)]="username" name="username" type="text" autocomplete="username" required
                class="block w-full rounded-md border-0 py-1.5 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6" />
            </div>
          </div>

          <div>
            <label for="password" class="block text-sm font-medium leading-6 text-gray-900">Password</label>
            <div class="mt-2">
              <input id="password" [(ngModel)]="password" name="password" type="password" autocomplete="current-password" required
                class="block w-full rounded-md border-0 py-1.5 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6" />
            </div>
          </div>

          <!-- ... rest of your sign-in form ... -->
          
          <div class="flex justify-between">
            <label for="remember-me" class="flex items-center">
              <input id="remember-me" name="remember-me" type="checkbox" class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600" />
              Remember me
            </label>
            <a href="#" class="text-sm text-indigo-600 hover:text-indigo-500">Forgot your password?</a>
          </div>

          <div>
            <button type="submit" [disabled]="isLoading" class="flex w-full justify-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus:outline-none">Sign in</button>
          </div>
          
          <div class="text-sm">
            <a href="#" class="font-medium text-indigo-600 hover:text-indigo-500" (click)="showCreateAccount = true; $event.preventDefault()">Create Account</a>
          </div>
          <!-- ... existing sign-in form ... -->

<div class="mt-6">
  <div class="relative">
    <div class="absolute inset-0 flex items-center" aria-hidden="true">
      <div class="w-full border-t border-gray-300"></div>
    </div>
    <div class="relative flex justify-center text-sm">
      <span class="bg-white px-4 text-gray-500">Or sign in with a test account</span>
    </div>
  </div>
  <div class="mt-6">
    <button [disabled]="isLoading" (click)="signInWithTestAccount()" class="flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none">
      Sign in as Test User
    </button>
  </div>
</div>

<!-- ... rest of your content ... -->

        </form>
      </div>
    </div>
  </div>
  
  <!-- Create Account Form -->
  <div *ngIf="showCreateAccount" class="flex flex-1 flex-col justify-center px-4 py-12 sm:px-6 lg:flex-none lg:px-20 xl:px-24">
    <div class="mx-auto w-full max-w-sm lg:w-96">
      <div>
        <img class="h-10 w-auto" src="assets/logo.svg" alt="Your Company" />
        <h2 class="mt-8 text-2xl font-bold leading-9 tracking-tight text-gray-900">Create an account</h2>
      </div>

      <div class="mt-10">
        <form (ngSubmit)="onCreateAccount()" class="space-y-6">
          <div>
            <label for="new-username" class="block text-sm font-medium leading-6 text-gray-900">Username</label>
            <div class="mt-2">
              <input id="new-username" [(ngModel)]="newUsername" name="newUsername" type="text" autocomplete="username" required
                class="block w-full rounded-md border-0 py-1.5 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6" />
            </div>
          </div>

          <div>
            <label for="new-email" class="block text-sm font-medium leading-6 text-gray-900">Email</label>
            <div class="mt-2">
              <input id="new-email" [(ngModel)]="email" name="email" type="email" autocomplete="email" required
                class="block w-full rounded-md border-0 py-1.5 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6" />
            </div>
          </div>

          <div>
            <label for="new-password" class="block text-sm font-medium leading-6 text-gray-900">Password</label>
            <div class="mt-2">
              <input id="new-password" [(ngModel)]="newPassword" name="newPassword" type="password" autocomplete="new-password" required minlength="8"
                #password="ngModel" 
                class="block w-full rounded-md border-0 py-1.5 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-indigo-600 sm:text-sm sm:leading-6" />
              <div *ngIf="password.errors && (password.dirty || password.touched)" class="text-red-600 text-sm mt-2">
                <span *ngIf="password.errors['required']">Password is required.</span>
                <span *ngIf="password.errors['minlength']">Password must be at least 8 characters long.</span>
              </div>
            </div>
          </div>
          

          <div>
            <button  [disabled]="password.errors || isLoading" type="submit" class="flex w-full justify-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus:outline-none">Create Account</button>
          </div>
          <div *ngIf="serverErrors.length > 0" class="text-red-600 text-sm mt-2">
            <div *ngFor="let error of serverErrors">
              {{ error }}
            </div>
          </div>
          
          
          <div class="text-sm">
            <a href="#" class="font-medium text-indigo-600 hover:text-indigo-500" (click)="showCreateAccount = false; $event.preventDefault()">Already have an account? Log in</a>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Background image -->
  <div class="relative hidden w-0 flex-1 lg:block">
    <img class="absolute inset-0 h-full w-full object-cover" src="../../assets/foodTable.png" alt="" />
  </div>
</div>
